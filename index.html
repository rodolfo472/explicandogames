<!DOCTYPE html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Music Timer</title>

<style>
body{
    background:black;
    color:white;
    text-align:center;
    font-family:Arial;
}
input, button{
    padding:10px;
    font-size:16px;
    margin:5px;
}
button{
    background:red;
    color:white;
    border:none;
    border-radius:5px;
}
button:hover{
    background:darkred;
}
</style>

</head>
<body>

<h2>游꿧 Player com Timer (M치x 10 anos)</h2>

<input type="number" id="minutes" placeholder="Digite os minutos" min="1">
<button onclick="startMusic()">Tocar</button>
<button onclick="stopMusic()">Parar</button>

<br><br>

<audio id="music" controls loop>
  <source src="taco.mp3" type="audio/mpeg">
  Seu navegador n칚o suporta 치udio.
</audio>

<script>

let audio = document.getElementById("music");
let timer;
const MAX_MINUTES = 5256000; // 10 anos

function startMusic(){

    let mins = parseFloat(document.getElementById("minutes").value);

    if(!mins || mins <= 0){
        alert("Digite um n칰mero v치lido!");
        return;
    }

    if(mins > MAX_MINUTES){
        alert("M치ximo permitido 칠 10 anos!");
        return;
    }

    clearTimeout(timer);

    audio.currentTime = 0;

    audio.play().then(()=>{
        console.log("츼udio iniciado com sucesso!");
    }).catch((error)=>{
        alert("Erro ao tocar o 치udio. Verifique o arquivo.");
        console.log(error);
        return;
    });

    timer = setTimeout(function(){
        audio.pause();
        audio.currentTime = 0;
        alert("Tempo finalizado!");
    }, mins * 60000);

}

function stopMusic(){
    clearTimeout(timer);
    audio.pause();
    audio.currentTime = 0;
}

</script>

</body>
</html>
