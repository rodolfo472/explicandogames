<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Plataforma de Estudos</title>
<style>
body { font-family: Arial; background: #111; color: white; text-align: center; }
.container { margin-top: 20px; }
input, textarea { width: 80%; padding: 8px; margin: 5px; }
textarea { height: 80px; }
button { padding: 10px 20px; margin: 8px; border: none; cursor: pointer; font-size: 16px; border-radius: 6px; }
.estudar { background: green; color: white; }
.premio { background: gold; }
#premiumBox { display: none; background: #222; padding: 15px; margin-top: 15px; }
#resultado { margin-top: 20px; background: #222; padding: 15px; text-align: left; overflow-y:auto; max-height:400px; }
#ranking { margin-top: 20px; background: #222; padding: 10px; }
</style>
</head>
<body>

<h1>üìö Plataforma de Estudos</h1>
<div class="container">

<input type="text" id="usuario" placeholder="Digite seu nome"><br>
<input type="text" id="materiaInput" placeholder="Digite a mat√©ria que deseja estudar"><br>
<textarea id="perguntaInput" placeholder="Fa√ßa uma pergunta sobre a mat√©ria (opcional)"></textarea><br>

<button class="estudar" onclick="mostrarMateria()">Ver Mat√©ria</button>
<button class="premio" onclick="mostrarPremio()">üéÅ Pr√™mio</button>
<button onclick="lerTexto()">L√™ para mim üîä</button>

<div id="premiumBox">
  <h2>√Årea Premium</h2>
  <p>Para desbloquear explica√ß√µes completas de todas as mat√©rias, fa√ßa o pagamento via PIX:</p>
  <img src="2026-02-27-19-12-51-5341505121450286994.jpg" width="200"><br><br>
  <button onclick="ativarPremium()">J√° comprei</button>
</div>

<div id="resultado"></div>

<div id="ranking">
  <h3>üèÜ Ranking Local</h3>
  <div id="listaRanking"></div>
</div>

</div>

<script>
// --- Base de mat√©rias do index.html (5 mat√©rias) ---
const materias = {
  matematica: {
    completo: `Matem√°tica √© a ci√™ncia que estuda padr√µes, n√∫meros, formas, estruturas e rela√ß√µes.
Desde os tempos da Mesopot√¢mia e do Egito Antigo, surgiram os primeiros sistemas de contagem e geometria.
Na Gr√©cia, Pit√°goras e Euclides desenvolveram a geometria cl√°ssica. No Renascimento surgiram c√°lculos infinitesimais.
Hoje inclui aritm√©tica, √°lgebra, geometria, trigonometria, c√°lculo, estat√≠stica, probabilidade e l√≥gica.`
  },
  portugues: {
    completo: `Portugu√™s estuda a l√≠ngua falada e escrita em Portugal e Brasil.
Origem no latim vulgar trazido pelos romanos, evoluindo com influ√™ncias de grego, √°rabe e l√≠nguas ind√≠genas.
Inclui gram√°tica, ortografia, sintaxe, morfologia, fon√©tica, sem√¢ntica, literatura e reda√ß√£o.
Abrange desde cl√°ssicos at√© autores contempor√¢neos.`
  },
  historia: {
    completo: `Hist√≥ria √© a ci√™ncia que estuda o passado da humanidade.
Desde Mesopot√¢mia e Egito, passando por Gr√©cia, Roma, Idade M√©dia, Renascimento, Revolu√ß√£o Industrial at√© os dias atuais.
Analisa eventos, sociedades, governos, guerras, revolu√ß√µes e transforma√ß√µes sociais.`
  },
  geografia: {
    completo: `Geografia estuda o planeta, clima, relevo, vegeta√ß√£o, recursos naturais e popula√ß√£o.
Inclui geografia f√≠sica e humana, cartografia, economia, urbaniza√ß√£o e impactos ambientais.
Permite entender como humanos interagem com o ambiente e planejam o futuro.`
  },
  fisica: {
    completo: `F√≠sica estuda mat√©ria, energia, movimento, for√ßas, luz e som.
Da mec√¢nica cl√°ssica de Galileu e Newton √† termodin√¢mica, eletromagnetismo, relatividade e f√≠sica qu√¢ntica.
Fundamental para engenharia, astronomia, tecnologia e compreens√£o do universo.`
  }
};

// --- Lista de aliases para reconhecer mai√∫sculas, min√∫sculas e acentos ---
const aliases = {
  matematica: ["matematica","matem√°tica","matematics"],
  portugues: ["portugues","portugu√™s","lingua portuguesa"],
  historia: ["historia","hist√≥ria","historico"],
  geografia: ["geografia","geographia","geografico"],
  fisica: ["fisica","f√≠sica","fizica"]
};

// --- Normalizar texto (remover acentos, min√∫scula) ---
function normalizar(texto){
  return texto.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase();
}

// --- Reconhece mat√©ria mesmo com varia√ß√µes ---
function reconhecerMateria(texto){
  const txt = normalizar(texto);
  for(const mat in aliases){
    if(aliases[mat].some(a => normalizar(a) === txt)) return mat;
  }
  return null;
}

// --- Mostrar mat√©ria ---
function mostrarMateria(){
  const usuario = document.getElementById("usuario").value;
  const materiaInput = document.getElementById("materiaInput").value;
  const pergunta = document.getElementById("perguntaInput").value;

  if(!usuario || !materiaInput){ alert("Digite seu nome e a mat√©ria!"); return; }

  const mat = reconhecerMateria(materiaInput);

  if(mat){ 
    // Mat√©ria do index.html
    const conteudo = materias[mat].completo;
    let textoFinal = conteudo;
    if(pergunta) textoFinal += "\n\nPergunta: " + pergunta + "\nResposta: Explica√ß√£o detalhada.";
    document.getElementById("resultado").innerHTML = textoFinal.replace(/\n/g,"<br>");
  } else {
    // Se n√£o estiver no index, vai pro painel.html
    window.open("painel.html?materia=" + encodeURIComponent(materiaInput) + "&usuario=" + encodeURIComponent(usuario), "_blank");
  }
}

// --- L√™ para mim ---
function lerTexto(){
  const texto = document.getElementById("resultado").innerText;
  if(!texto) return;
  const utter = new SpeechSynthesisUtterance(texto);
  utter.lang = "pt-BR";
  speechSynthesis.speak(utter);
}

// --- Bot√£o Pr√™mio ---
function mostrarPremio(){ document.getElementById("premiumBox").style.display="block"; }
function ativarPremium(){
  const usuario = document.getElementById("usuario").value;
  if(!usuario){ alert("Digite seu nome primeiro!"); return; }
  localStorage.setItem("premium_" + usuario,"true");
  alert("Premium ativado!");
}
</script>
</body>
</html>
