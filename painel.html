<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Painel de Estudos</title>
<style>
body { font-family: Arial; background: #111; color: white; text-align: center; }
.container { margin-top: 20px; }
input, textarea { width: 80%; padding: 8px; margin: 5px; }
textarea { height: 80px; }
button { padding: 10px 20px; margin: 8px; border: none; cursor: pointer; font-size: 16px; border-radius: 6px; }
.estudar { background: green; color: white; }
.premio { background: gold; }
#premiumBox { display: none; background: #222; padding: 15px; margin-top: 15px; }
#resultado { margin-top: 20px; background: #222; padding: 15px; text-align: left; overflow-y:auto; max-height:400px; }
</style>
</head>
<body>

<h1>üìö Painel de Estudos</h1>
<div class="container">

<input type="text" id="usuario" placeholder="Digite seu nome"><br>
<input type="text" id="materiaInput" placeholder="Digite a mat√©ria que deseja estudar"><br>
<textarea id="perguntaInput" placeholder="Fa√ßa uma pergunta sobre a mat√©ria (opcional)"></textarea><br>

<button class="estudar" onclick="mostrarMateria()">Ver Mat√©ria</button>
<button class="premio" onclick="mostrarPremio()">üéÅ Pr√™mio</button>
<button onclick="lerTexto()">L√™ para mim üîä</button>

<div id="premiumBox">
  <h2>√Årea Premium</h2>
  <p>Para desbloquear explica√ß√µes completas de todas as mat√©rias, fa√ßa o pagamento via PIX:</p>
  <img src="2026-02-27-19-12-51-5341505121450286994.jpg" width="200"><br><br>
  <button onclick="ativarPremium()">J√° comprei</button>
</div>

<div id="resultado"></div>

</div>

<script>
// --- Base de mat√©rias do painel.html ---
const materias = {
  quimica: {
    completo: `Qu√≠mica √© a ci√™ncia que estuda a composi√ß√£o, estrutura e propriedades da mat√©ria, suas transforma√ß√µes e as leis que regem essas mudan√ßas.
Come√ßou com a alquimia antiga e evoluiu para a qu√≠mica moderna com Lavoisier, que estabeleceu a lei da conserva√ß√£o da massa.
Inclui qu√≠mica org√¢nica, inorg√¢nica, f√≠sico-qu√≠mica, bioqu√≠mica, qu√≠mica anal√≠tica e industrial.`
  },
  biologia: {
    completo: `Biologia √© a ci√™ncia da vida e dos seres vivos, sua estrutura, funcionamento, evolu√ß√£o e intera√ß√£o com o ambiente.
Estuda desde organismos unicelulares at√© animais e plantas complexas, gen√©tica, ecologia, microbiologia e biotecnologia.
Inclui tamb√©m evolu√ß√£o, reprodu√ß√£o, fisiologia, anatomia, comportamento e conserva√ß√£o ambiental.`
  },
  filosofia: {
    completo: `Filosofia estuda quest√µes fundamentais sobre exist√™ncia, conhecimento, raz√£o, moral, mente e linguagem.
Desde os fil√≥sofos gregos (S√≥crates, Plat√£o, Arist√≥teles) at√© pensadores modernos como Kant, Nietzsche e Foucault.
Inclui √©tica, l√≥gica, metaf√≠sica, epistemologia, est√©tica, filosofia pol√≠tica e filosofia da ci√™ncia.`
  },
  sociologia: {
    completo: `Sociologia √© a ci√™ncia que estuda as sociedades, suas estruturas, culturas, institui√ß√µes e rela√ß√µes humanas.
Investiga desigualdades sociais, economia, pol√≠tica, religi√£o, fam√≠lia e comportamento coletivo.
Desde os primeiros soci√≥logos cl√°ssicos como Durkheim, Weber e Marx at√© abordagens contempor√¢neas.`
  },
  artes: {
    completo: `Artes estudam a express√£o humana por meio de pintura, escultura, m√∫sica, dan√ßa, teatro, cinema e outras formas.
Analisa movimentos art√≠sticos, t√©cnicas, hist√≥ria da arte e impacto cultural.
Inclui desde a arte cl√°ssica e renascentista at√© arte contempor√¢nea, digital e audiovisual.`
  }
};

// --- Lista de aliases para reconhecer mai√∫sculas, min√∫sculas e acentos ---
const aliases = {
  quimica: ["quimica","qu√≠mica","chemistry"],
  biologia: ["biologia","biology","bio"],
  filosofia: ["filosofia","philosophy","filosofico"],
  sociologia: ["sociologia","sociology","sociedade"],
  artes: ["artes","arte","arts"]
};

// --- Normalizar texto (remove acentos e min√∫scula) ---
function normalizar(texto){
  return texto.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase();
}

// --- Reconhece mat√©ria mesmo com varia√ß√µes ---
function reconhecerMateria(texto){
  const txt = normalizar(texto);
  for(const mat in aliases){
    if(aliases[mat].some(a => normalizar(a) === txt)) return mat;
  }
  return null;
}

// --- Mostrar mat√©ria ---
function mostrarMateria(){
  let usuario = document.getElementById("usuario").value;
  let materiaInput = document.getElementById("materiaInput").value;
  let pergunta = document.getElementById("perguntaInput").value;

  // Se vier da URL (clicado do index.html)
  const params = new URLSearchParams(window.location.search);
  if(params.get("usuario")) usuario = params.get("usuario");
  if(params.get("materia")) materiaInput = params.get("materia");

  if(!usuario || !materiaInput){ alert("Digite seu nome e a mat√©ria!"); return; }

  const mat = reconhecerMateria(materiaInput);

  if(mat){ 
    const conteudo = materias[mat].completo;
    let textoFinal = conteudo;
    if(pergunta) textoFinal += "\n\nPergunta: " + pergunta + "\nResposta: Explica√ß√£o detalhada.";
    document.getElementById("resultado").innerHTML = textoFinal.replace(/\n/g,"<br>");
  } else {
    document.getElementById("resultado").innerHTML = "Mat√©ria n√£o encontrada no painel.";
  }
}

// --- L√™ para mim ---
function lerTexto(){
  const texto = document.getElementById("resultado").innerText;
  if(!texto) return;
  const utter = new SpeechSynthesisUtterance(texto);
  utter.lang = "pt-BR";
  speechSynthesis.speak(utter);
}

// --- Bot√£o Pr√™mio ---
function mostrarPremio(){ document.getElementById("premiumBox").style.display="block"; }
function ativarPremium(){
  const usuario = document.getElementById("usuario").value;
  if(!usuario){ alert("Digite seu nome primeiro!"); return; }
  localStorage.setItem("premium_" + usuario,"true");
  alert("Premium ativado!");
}

// --- Se abriu via URL (do index.html), mostrar automaticamente ---
window.onload = function(){
  if(new URLSearchParams(window.location.search).get("materia")){
    mostrarMateria();
  }
};
</script>
</body>
</html>
